function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){o[e]=t},t.parcelRequired7c6=a);var l=a("i8szs"),r=a("gffsD");var s=e(a("amrNH")).template({1:function(e,t,n,o,a){var l,r,s=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,i="function",u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"  <li class='library-section__item'>\n    <a class='library-section__card' href='#'>\n"+(null!=(l=d(n,"if").call(s,null!=t?d(t,"poster_path"):t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a,loc:{start:{line:4,column:6},end:{line:18,column:13}}}))?l:"")+"      <div class='library-section__card-info'>\n        <h2 class='library-section__card-title'>"+u(typeof(r=null!=(r=d(n,"title")||(null!=t?d(t,"title"):t))?r:c)===i?r.call(s,{name:"title",hash:{},data:a,loc:{start:{line:26,column:48},end:{line:26,column:57}}}):r)+"</h2>\n        <p class='library-section__card-description'>\n          <span class='library-section__card-genre'>"+u(typeof(r=null!=(r=d(n,"genre_ids")||(null!=t?d(t,"genre_ids"):t))?r:c)===i?r.call(s,{name:"genre_ids",hash:{},data:a,loc:{start:{line:28,column:52},end:{line:28,column:65}}}):r)+"</span>\n          <span class='library-section__card-genredelimiter'>|</span>\n          <span class='library-section__card-year'>"+u(typeof(r=null!=(r=d(n,"release_date")||(null!=t?d(t,"release_date"):t))?r:c)===i?r.call(s,{name:"release_date",hash:{},data:a,loc:{start:{line:30,column:51},end:{line:30,column:67}}}):r)+"</span>\n          <span class='library-section__card-rating'>"+u(typeof(r=null!=(r=d(n,"vote_average")||(null!=t?d(t,"vote_average"):t))?r:c)===i?r.call(s,{name:"vote_average",hash:{},data:a,loc:{start:{line:31,column:53},end:{line:31,column:69}}}):r)+"</span>\n        </p>\n      </div>\n    </a>\n  </li>\n"},2:function(e,t,n,o,a){var l,r=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c="function",i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        <img\n          class='library-section__card-img'\n          src='https://image.tmdb.org/t/p/w500"+i(typeof(l=null!=(l=u(n,"poster_path")||(null!=t?u(t,"poster_path"):t))?l:s)===c?l.call(r,{name:"poster_path",hash:{},data:a,loc:{start:{line:7,column:46},end:{line:7,column:61}}}):l)+"'\n          alt='"+i(typeof(l=null!=(l=u(n,"title")||(null!=t?u(t,"title"):t))?l:s)===c?l.call(r,{name:"title",hash:{},data:a,loc:{start:{line:8,column:15},end:{line:8,column:24}}}):l)+"'\n          data-id='"+i(typeof(l=null!=(l=u(n,"id")||(null!=t?u(t,"id"):t))?l:s)===c?l.call(r,{name:"id",hash:{},data:a,loc:{start:{line:9,column:19},end:{line:9,column:25}}}):l)+"'\n        />\n"},4:function(e,t,n,o,a){var l,r=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c="function",i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        <img\n          class='library-section__card-img'\n          src='https://media.istockphoto.com/id/911590226/uk/%D0%B2%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%BD%D1%96-%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%BD%D1%8F/%D0%B2%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%BD%D0%B0-%D1%96%D0%BB%D1%8E%D1%81%D1%82%D1%80%D0%B0%D1%86%D1%96%D1%8F-%D1%87%D0%B0%D1%81%D1%83-%D1%84%D1%96%D0%BB%D1%8C%D0%BC%D1%83-%D0%BA%D0%BE%D0%BD%D1%86%D0%B5%D0%BF%D1%86%D1%96%D1%8F-%D0%BA%D1%96%D0%BD%D0%BE%D0%BF%D0%BE%D1%81%D1%82%D0%B5%D1%80%D1%83-%D0%BD%D0%B0-%D1%87%D0%B5%D1%80%D0%B2%D0%BE%D0%BD%D0%BE%D0%BC%D1%83-%D0%BA%D1%80%D1%83%D0%B3%D0%BB%D0%BE%D0%BC%D1%83-%D1%82%D0%BB%D1%96.jpg?s=612x612&w=0&k=20&c=xj1wHSzUN8OEHhOo8Xa_Z7FlJLxFXPppehw0-6KnmRs='\n          alt='"+i(typeof(l=null!=(l=u(n,"title")||(null!=t?u(t,"title"):t))?l:s)===c?l.call(r,{name:"title",hash:{},data:a,loc:{start:{line:15,column:15},end:{line:15,column:24}}}):l)+"'\n          data-id='"+i(typeof(l=null!=(l=u(n,"id")||(null!=t?u(t,"id"):t))?l:s)===c?l.call(r,{name:"id",hash:{},data:a,loc:{start:{line:16,column:19},end:{line:16,column:25}}}):l)+"'\n        />\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,o,a){var l;return null!=(l=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:36,column:9}}}))?l:""},useData:!0}),c=a("fb9GJ");const i=(r=a("gffsD")).toWatched.getWatchedAll();function u(t,n,o){const a=document.querySelector("#pagination"),l=document.querySelector(".library-section__card-set");if(!i)return l.innerHTML="<p>Sorry, you have no movies added to your library. Go to the home page.</p>";const s={totalItems:o||i.length,itemsPerPage:10,visiblePages:5,centerAlign:!0},u=new(e(c))(a,s);u.on("beforeMove",(e=>{b(function(e,t,n){const o=n*t,a=o+t;return r.toWatched.getWatchedAll().slice(o,a)}(0,10,e.page-1)),window.scrollTo({top:0,behavior:"smooth"})})),u.movePageTo(0)}c=a("fb9GJ");const d=(l=a("i8szs")).toQueue.getQueueAll();function h(t,n,o){const a=document.querySelector("#pagination"),r=document.querySelector(".library-section__card-set");if(!d)return r.innerHTML="<p>Sorry, you have no movies added to your library. Go to the home page.</p>";const s={totalItems:o||d.length,itemsPerPage:10,visiblePages:5,centerAlign:!0},i=new(e(c))(a,s);i.on("beforeMove",(e=>{b(function(e,t,n){const o=n*t,a=o+t;return l.toQueue.getQueueAll().slice(o,a)}(0,10,e.page-1))})),i.movePageTo(0)}var p=a("kyRuT"),f=a("2ezs4");const m=document.querySelector(".library-section__card-set"),D=document.querySelector(".js-watch"),g=document.querySelector(".js-queue"),y="is-current";function _(){if(h(),(0,f.addLocal)(l.toQueue.getQueueAll()),!g.classList.contains(y))return g.classList.add(y),void D.classList.remove(y);g.classList.remove(y)}function b(e){try{return e.length>0?m.innerHTML=s(e):m.innerHTML="<p>Sorry, you have no movies added to your library. Go to the home page.</p>"}catch{return m.innerHTML="🐷"}finally{window.scrollBy(0,3*-window.innerHeight)}}D.addEventListener("click",(function(){if(u(),(0,f.addLocal)(r.toWatched.getWatchedAll()),!D.classList.contains(y))return D.classList.add(y),void g.classList.remove(y);D.classList.remove(y)})),g.addEventListener("click",_),_(),(0,p.spinerOn)(),onload=()=>(0,p.spinerOff)(),a("i8szs"),a("gffsD"),a("2ezs4"),a("lpPzL"),a("kyRuT");var v=a("lpPzL");f=a("2ezs4"),f=a("2ezs4"),r=a("gffsD"),l=a("i8szs");const B=document.querySelector(".backdrop"),L="js-watched-modal",w="js-queue-modal",q="reviewed",O="in your turn";function k(e){const t={btn_watched:document.querySelector(".btn_watched"),btn_queue:document.querySelector(".btn_queue")};r.toWatched.getWatchedOne(e)&&r.toWatched.getWatchedOne(e).length>0&&E(t.btn_watched),l.toQueue.getQueueOne(e)&&l.toQueue.getQueueOne(e).length>0&&Q(t.btn_queue)}function E(e){e.classList.add(L),e.textContent=q}function Q(e){e.classList.add(w),e.textContent=O}function W(e){e.classList.remove(L),e.textContent="add to watched"}function x(e){e.classList.remove(w),e.textContent="add to queue"}B.addEventListener("click",(function(e){const t=+e.target.dataset.id,n={btn_watched:document.querySelector(".btn_watched"),btn_queue:document.querySelector(".btn_queue"),btn_que_heder:document.querySelector(".js-queue"),btn_watch_heder:document.querySelector(".js-watch")};if(e.target.classList.contains("btn_watched"))if(!r.toWatched.getWatchedOne(t)||r.toWatched.getWatchedOne(t).length<1){r.toWatched.setWatchedOne(...(0,f.getLocalOne)(t)),E(n.btn_watched),n.btn_watch_heder.classList.contains("is-current")&&u();try{void 0!==l.toQueue.getQueueAll()&&l.toQueue.getQueueOne(t).length>0&&(l.toQueue.removeQueueOneEl(t),x(n.btn_queue),n.btn_que_heder.classList.contains("is-current")&&h())}finally{return}}else r.toWatched.removeWatchedOneEl(t),W(n.btn_watched),n.btn_watch_heder.classList.contains("is-current")&&u();if(e.target.classList.contains("btn_queue"))if(!l.toQueue.getQueueOne(t)||l.toQueue.getQueueOne(t).length<1){l.toQueue.setQueueOne(...(0,f.getLocalOne)(t)),Q(n.btn_queue),n.btn_que_heder.classList.contains("is-current")&&h();try{void 0!==r.toWatched.getWatchedAll&&r.toWatched.getWatchedOne(t).length>0&&(r.toWatched.removeWatchedOneEl(t),W(n.btn_watched),n.btn_watch_heder.classList.contains("is-current")&&u())}finally{return}}else l.toQueue.removeQueueOneEl(t),x(n.btn_queue),n.btn_que_heder.classList.contains("is-current")&&h()}));var P=a("9x1Bf");function S(){v.refs.backdrop.classList.add("is-hidden"),M()}function A(e){e.target.classList.contains("modal")&&v.refs.backdrop.classList.add("is-hidden"),M()}function C(e){"Escape"===e.key&&(v.refs.backdrop.classList.add("is-hidden"),M())}function M(){v.refs.backdrop.classList.contains("is-hidden")&&(v.refs.modalClose.removeEventListener("click",S),v.refs.backdrop.removeEventListener("click",A),document.removeEventListener("keydown",C),v.refs.body.classList.remove("disable-scroll"))}document.querySelector(".container-library").addEventListener("click",(function(e){if(e.preventDefault(),!e.target.classList.contains("library-section__card-img"))return;const t=+e.target.dataset.id;v.refs.body.classList.add("disable-scroll"),v.refs.modalClose.addEventListener("click",S),v.refs.backdrop.addEventListener("click",A),document.addEventListener("keydown",C),v.refs.backdrop.classList.remove("is-hidden"),v.refs.modalMovie.innerHTML=(0,P.default)((0,f.getLocalOne)(t)),k(t)})),a("37v9V");
//# sourceMappingURL=library.aa39ff81.js.map
