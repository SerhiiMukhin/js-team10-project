!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},t.parcelRequired7c6=o);var r=o("bvnla"),c=o("dN6xn");var l=e(o("WMajR")).template({1:function(e,t,n,a,o){var r,c=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,s="function",i=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"  <li class='library-section__item'>\n    <a class='library-section__card' href='#'>\n      <img\n        class='library-section__card-img'\n        src='https://image.tmdb.org/t/p/w500"+i(typeof(r=null!=(r=d(n,"poster_path")||(null!=t?d(t,"poster_path"):t))?r:l)===s?r.call(c,{name:"poster_path",hash:{},data:o,loc:{start:{line:6,column:44},end:{line:6,column:59}}}):r)+"'\n        alt='alt'\n        data-id='"+i(typeof(r=null!=(r=d(n,"id")||(null!=t?d(t,"id"):t))?r:l)===s?r.call(c,{name:"id",hash:{},data:o,loc:{start:{line:8,column:17},end:{line:8,column:23}}}):r)+"'\n      />\n      <div class='library-section__card-info'>\n        <h2 class='library-section__card-title'>"+i(typeof(r=null!=(r=d(n,"title")||(null!=t?d(t,"title"):t))?r:l)===s?r.call(c,{name:"title",hash:{},data:o,loc:{start:{line:11,column:48},end:{line:11,column:57}}}):r)+"</h2>\n        <p class='library-section__card-description'>\n          <span class='library-section__card-genre'>"+i(typeof(r=null!=(r=d(n,"genre_ids")||(null!=t?d(t,"genre_ids"):t))?r:l)===s?r.call(c,{name:"genre_ids",hash:{},data:o,loc:{start:{line:13,column:52},end:{line:13,column:65}}}):r)+"</span>\n          <span class='library-section__card-genredelimiter'>|</span>\n          <span class='library-section__card-year'>"+i(typeof(r=null!=(r=d(n,"release_date")||(null!=t?d(t,"release_date"):t))?r:l)===s?r.call(c,{name:"release_date",hash:{},data:o,loc:{start:{line:15,column:51},end:{line:15,column:67}}}):r)+"</span>\n          <span class='library-section__card-rating'>"+i(typeof(r=null!=(r=d(n,"vote_average")||(null!=t?d(t,"vote_average"):t))?r:l)===s?r.call(c,{name:"vote_average",hash:{},data:o,loc:{start:{line:16,column:53},end:{line:16,column:69}}}):r)+"</span>\n        </p>\n      </div>\n    </a>\n  </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var r;return null!=(r=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:21,column:9}}}))?r:""},useData:!0}),s=o("1VFfL");const i=(c=o("dN6xn")).toWatched.getWatchedAll();function d(t,n,a){const o=document.querySelector("#pagination"),r=document.querySelector(".library-section__card-set");if(!i)return r.innerHTML="<p>Sorry, you have no movies added to your library. Go to the home page.</p>";const l={totalItems:a||i.length,itemsPerPage:10,visiblePages:5,centerAlign:!1},d=new(e(s))(o,l);d.on("beforeMove",(e=>{v(function(e,t,n){const a=n*t,o=a+t;return c.toWatched.getWatchedAll().slice(a,o)}(0,10,e.page-1))})),d.movePageTo(0)}s=o("1VFfL");const u=(r=o("bvnla")).toQueue.getQueueAll();function h(t,n,a){const o=document.querySelector("#pagination"),c=document.querySelector(".library-section__card-set");if(!u)return c.innerHTML="<p>Sorry, you have no movies added to your library. Go to the home page.</p>";const l={totalItems:a||u.length,itemsPerPage:10,visiblePages:5,centerAlign:!1},i=new(e(s))(o,l);i.on("beforeMove",(e=>{v(function(e,t,n){const a=n*t,o=a+t;return r.toQueue.getQueueAll().slice(a,o)}(0,10,e.page-1))})),i.movePageTo(0)}var f=o("diaKp"),m=o("gyo0n");const p=document.querySelector(".library-section__card-set"),_=document.querySelector(".js-watch"),g=document.querySelector(".js-queue"),y="is-current";function b(){if(h(),(0,m.addLocal)(r.toQueue.getQueueAll()),!g.classList.contains(y))return g.classList.add(y),void _.classList.remove(y);g.classList.remove(y)}function v(e){try{return e.length>0?p.innerHTML=l(e):p.innerHTML="<p>Sorry, you have no movies added to your library. Go to the home page.</p>"}catch{return p.innerHTML="🐷"}finally{window.scrollBy(0,3*-window.innerHeight)}}_.addEventListener("click",(function(){if(d(),(0,m.addLocal)(c.toWatched.getWatchedAll()),!_.classList.contains(y))return _.classList.add(y),void g.classList.remove(y);_.classList.remove(y)})),g.addEventListener("click",b),b(),(0,f.spinerOn)(),onload=()=>(0,f.spinerOff)(),o("bvnla"),o("dN6xn"),o("gyo0n"),o("3vKGz"),o("diaKp");var L=o("3vKGz");m=o("gyo0n"),m=o("gyo0n"),c=o("dN6xn"),r=o("bvnla");const w=document.querySelector(".backdrop"),q="js-watched-modal",O="js-queue-modal",Q="reviewed",W="in your turn";function k(e){const t={btn_watched:document.querySelector(".btn_watched"),btn_queue:document.querySelector(".btn_queue")};c.toWatched.getWatchedOne(e)&&c.toWatched.getWatchedOne(e).length>0&&E(t.btn_watched),r.toQueue.getQueueOne(e)&&r.toQueue.getQueueOne(e).length>0&&S(t.btn_queue)}function E(e){e.classList.add(q),e.textContent=Q}function S(e){e.classList.add(O),e.textContent=W}function x(e){e.classList.remove(q),e.textContent="add to watched"}function M(e){e.classList.remove(O),e.textContent="add to queue"}w.addEventListener("click",(function(e){const t=+e.target.dataset.id,n={btn_watched:document.querySelector(".btn_watched"),btn_queue:document.querySelector(".btn_queue"),btn_que_heder:document.querySelector(".js-queue"),btn_watch_heder:document.querySelector(".js-watch")};if(e.target.classList.contains("btn_watched"))if(!c.toWatched.getWatchedOne(t)||c.toWatched.getWatchedOne(t).length<1){c.toWatched.setWatchedOne(...(0,m.getLocalOne)(t)),E(n.btn_watched),n.btn_watch_heder.classList.contains("is-current")&&d();try{void 0!==r.toQueue.getQueueAll()&&r.toQueue.getQueueOne(t).length>0&&(r.toQueue.removeQueueOneEl(t),M(n.btn_queue),n.btn_que_heder.classList.contains("is-current")&&h())}finally{return}}else c.toWatched.removeWatchedOneEl(t),x(n.btn_watched),n.btn_watch_heder.classList.contains("is-current")&&d();if(e.target.classList.contains("btn_queue"))if(!r.toQueue.getQueueOne(t)||r.toQueue.getQueueOne(t).length<1){r.toQueue.setQueueOne(...(0,m.getLocalOne)(t)),S(n.btn_queue),n.btn_que_heder.classList.contains("is-current")&&h();try{void 0!==c.toWatched.getWatchedAll&&c.toWatched.getWatchedOne(t).length>0&&(c.toWatched.removeWatchedOneEl(t),x(n.btn_watched),n.btn_watch_heder.classList.contains("is-current")&&d())}finally{return}}else r.toQueue.removeQueueOneEl(t),M(n.btn_queue),n.btn_que_heder.classList.contains("is-current")&&h()}));var P=o("1cIrP");function T(){L.refs.backdrop.classList.add("is-hidden"),C()}function A(e){e.target.classList.contains("modal")&&L.refs.backdrop.classList.add("is-hidden"),C()}function j(e){"Escape"===e.key&&(L.refs.backdrop.classList.add("is-hidden"),C())}function C(){L.refs.backdrop.classList.contains("is-hidden")&&(L.refs.modalClose.removeEventListener("click",T),L.refs.backdrop.removeEventListener("click",A),document.removeEventListener("keydown",j),L.refs.body.classList.remove("disable-scroll"))}document.querySelector(".container-library").addEventListener("click",(function(e){if(e.preventDefault(),!e.target.classList.contains("library-section__card-img"))return;const t=+e.target.dataset.id;L.refs.body.classList.add("disable-scroll"),L.refs.modalClose.addEventListener("click",T),L.refs.backdrop.addEventListener("click",A),document.addEventListener("keydown",j),L.refs.backdrop.classList.remove("is-hidden"),L.refs.modalMovie.innerHTML=(0,P.default)((0,m.getLocalOne)(t)),k(t)})),o("cDXQO")}();
//# sourceMappingURL=library.66d3bf16.js.map
