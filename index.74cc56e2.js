!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},t.parcelRequired7c6=a);var r=a("dIxxU");const i="https://api.themoviedb.org/3/",s="a59dfea75e9e40e203f0819879862061";class l{async getMovieByName(){const e=`${i}search/movie?api_key=${s}&query=${this.searchQuary}&page=${this.page}&language=${this.lang}&include_adult=false`;return(await r.default.get(e)).data}async getPopularFilms(){const e=`${i}/trending/movie/day?api_key=${s}&language=${this.lang}&page=${this.page}`;return(await r.default.get(e)).data}async getInfoByMovieId(){const e=`${i}movie/${this.movieId}?api_key=${s}&language=${this.lang}`;return(await r.default.get(e)).data}async getMovieGenres(){const e=`${i}genre/movie/list?api_key=${s}`;return(await r.default.get(e)).data}incrementPage(){this.page+=1}decrementPage(){this.page-=1}resetPage(){this.page=1}get quary(){return this.searchQuary}set quary(e){this.searchQuary=e}constructor(){this.searchQuary="",this.page=1,this.movieId="",this.lang="en-US"}}const c=new l,u="data-genresArr";function d(e){let t=[];return function(){try{if(localStorage.getItem(u)){return JSON.parse(localStorage.getItem(u))}return}catch{return!1}}().map((({id:n,name:o})=>{e.map((e=>{e===n&&t.push(o)}))})),t}var h=e(a("WMajR")).template({1:function(e,t,n,o,a){var r,i,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"  <li class='card' data-id='"+u(typeof(i=null!=(i=d(n,"id")||(null!=t?d(t,"id"):t))?i:l)===c?i.call(s,{name:"id",hash:{},data:a,loc:{start:{line:2,column:28},end:{line:2,column:34}}}):i)+"'>\n"+(null!=(r=d(n,"if").call(s,null!=t?d(t,"poster_path"):t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a,loc:{start:{line:3,column:4},end:{line:18,column:11}}}))?r:"")+"    <h2 class='card__title'>"+u(typeof(i=null!=(i=d(n,"title")||(null!=t?d(t,"title"):t))?i:l)===c?i.call(s,{name:"title",hash:{},data:a,loc:{start:{line:19,column:28},end:{line:19,column:37}}}):i)+"</h2>\n\n    <div class='card__data'>\n      "+(null!=(r=d(n,"if").call(s,null!=t?d(t,"genre_ids"):t,{name:"if",hash:{},fn:e.program(6,a,0),inverse:e.program(8,a,0),data:a,loc:{start:{line:22,column:6},end:{line:24,column:23}}}))?r:"")+"\n\n      "+(null!=(r=d(n,"if").call(s,null!=t?d(t,"release_date"):t,{name:"if",hash:{},fn:e.program(10,a,0),inverse:e.program(12,a,0),data:a,loc:{start:{line:26,column:6},end:{line:28,column:84}}}))?r:"")+"\n    </div>\n\n  </li>\n"},2:function(e,t,n,o,a){var r,i=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"\n      <img\n        class='card__img'\n        src='https://image.tmdb.org/t/p/w500"+c(typeof(r=null!=(r=u(n,"poster_path")||(null!=t?u(t,"poster_path"):t))?r:s)===l?r.call(i,{name:"poster_path",hash:{},data:a,loc:{start:{line:7,column:44},end:{line:7,column:59}}}):r)+"'\n        alt='"+c(typeof(r=null!=(r=u(n,"title")||(null!=t?u(t,"title"):t))?r:s)===l?r.call(i,{name:"title",hash:{},data:a,loc:{start:{line:8,column:13},end:{line:8,column:22}}}):r)+"'\n        data-id='"+c(typeof(r=null!=(r=u(n,"id")||(null!=t?u(t,"id"):t))?r:s)===l?r.call(i,{name:"id",hash:{},data:a,loc:{start:{line:9,column:17},end:{line:9,column:23}}}):r)+"'\n      />\n"},4:function(e,t,n,o,a){var r,i=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"      <img\n        class='card__img'\n        src='http://cdn.differencebetween.net/wp-content/uploads/2019/12/Difference-Between-Film-and-Movie--768x497.jpg'\n        alt='"+c(typeof(r=null!=(r=u(n,"title")||(null!=t?u(t,"title"):t))?r:s)===l?r.call(i,{name:"title",hash:{},data:a,loc:{start:{line:15,column:13},end:{line:15,column:22}}}):r)+"'\n        data-id='"+c(typeof(r=null!=(r=u(n,"id")||(null!=t?u(t,"id"):t))?r:s)===l?r.call(i,{name:"id",hash:{},data:a,loc:{start:{line:16,column:17},end:{line:16,column:23}}}):r)+"'\n      />\n"},6:function(e,t,n,o,a){var r,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<span class='card__genres'>"+e.escapeExpression("function"==typeof(r=null!=(r=i(n,"genre_ids")||(null!=t?i(t,"genre_ids"):t))?r:e.hooks.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"genre_ids",hash:{},data:a,loc:{start:{line:22,column:50},end:{line:22,column:63}}}):r)+"</span>"},8:function(e,t,n,o,a){return"<p\n          class='card__undefined'\n        >N/A</p>"},10:function(e,t,n,o,a){var r,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<span class='card__year'>\n          |\n          "+e.escapeExpression("function"==typeof(r=null!=(r=i(n,"release_date")||(null!=t?i(t,"release_date"):t))?r:e.hooks.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"release_date",hash:{},data:a,loc:{start:{line:28,column:10},end:{line:28,column:26}}}):r)+"</span>"},12:function(e,t,n,o,a){return"<p class='card__undefined'>| N/A</p>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,o,a){var r;return null!=(r=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:32,column:9}}}))?r:""},useData:!0}),p=a("diaKp");a("gyo0n");p=a("diaKp");var f=a("gyo0n");function m(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function g(e,t){return n=e,(o=m(e,t,"get")).get?o.get.call(n):o.value;var n,o}function b(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function y(e,t,n){b(e,t),t.set(e,n)}function v(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,m(e,t,"set"),n),n}function w(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function x(e,t){b(e,t),t.add(e)}const C=document.createElement("template"),_=String.raw;C.innerHTML=_`
  <style>
    :host {
      all: initial;
      display: block;
      position: absolute;
      top: 0;
      right: 0;
      width: 1px;
    }
    :host button {
      position: fixed;
      bottom: 16px;
      right: 16px;
      cursor: pointer;
    }
    :host([hidden]) button {
      opacity: 0;
      visibility: hidden;
    }
  </style>
  <button type="button" part="button"><slot>Scroll to top</slot></button>
`;var L=new WeakMap,O=new WeakSet,E=new WeakSet,k=new WeakMap;class q extends HTMLElement{get visibleAfter(){return this.getAttribute("visible-after")}set visibleAfter(e){this.setAttribute("visible-after",e)}get smoothScrolling(){return this.hasAttribute("smooth-scrolling")}set smoothScrolling(e){e?this.setAttribute("smooth-scrolling",""):this.removeAttribute("smooth-scrolling")}get topOffset(){return Number(this.getAttribute("top-offset"))||0}set topOffset(e){const t=Number(e)||0;this.setAttribute("top-offset",t>0?t:0)}static get observedAttributes(){return["visible-after"]}attributeChangedCallback(e,t,n){"visible-after"===e&&w(this,E,N).call(this,n)}connectedCallback(){w(this,O,S).call(this,"visibleAfter"),w(this,O,S).call(this,"smoothScrolling"),w(this,O,S).call(this,"topOffset"),this.topOffset||(this.topOffset=0),this.visibleAfter||(this.visibleAfter="50vh"),v(this,L,this.shadowRoot.querySelector("button")),w(this,E,N).call(this,this.visibleAfter);try{this.observer=new IntersectionObserver((([e])=>{this.hidden=e.isIntersecting,g(this,L).part.toggle("button--hidden",e.isIntersecting),this.dispatchEvent(new CustomEvent("scroll-top:visibility-change",{bubbles:!0,composed:!0,detail:{visible:!e.isIntersecting}}))})),this.observer.observe(this)}catch(e){console.error(e)}g(this,L).addEventListener("click",g(this,k))}disconnectedCallback(){this.observer&&(this.observer.disconnect(),this.observer=null),g(this,L).removeEventListener("click",g(this,k))}static defineCustomElement(e="scroll-top"){"undefined"==typeof window||window.customElements.get(e)||window.customElements.define(e,q)}constructor(){super(),x(this,O),x(this,E),y(this,L,{writable:!0,value:void 0}),y(this,k,{writable:!0,value:e=>{e.preventDefault();const t={top:this.topOffset};this.smoothScrolling&&(t.behavior="smooth"),document.scrollingElement.scrollTo(t)}}),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(C.content.cloneNode(!0))}}function S(e){if(Object.prototype.hasOwnProperty.call(this,e)){const t=this[e];delete this[e],this[e]=t}}function N(e){"string"==typeof e&&(this.style.height=e)}const M=document.querySelector(".js-search-form"),T=document.querySelector(".js-card-collection"),Q=document.querySelector(".js-error-notify"),W=new l;function A(e){const t=e.map((e=>(e.genre_ids=d(e.genre_ids).join(", "),e.release_date=e.release_date.slice(0,4),e)));return(0,f.addLocal)(t),t}function P(){Q.innerHTML=""}M.addEventListener("submit",(async function(e){e.preventDefault();try{if((0,p.spinerOn)(),W.resetPage(),W.quary=M.query.value.trim(),!W.quary)return Q.innerHTML="Search result not successful.",setTimeout(P,3e3),void(0,p.spinerOff)();const{page:e,results:t,total_pages:n,total_results:o}=await W.getMovieByName();if(setTimeout(p.spinerOff,500),0===o)return Q.innerHTML="Enter the correct movie name and try again.",void setTimeout(P,3e3);T.innerHTML="",function(e){const t=h(A(e));T.insertAdjacentHTML("beforeend",t)}(t)}catch(e){(0,p.spinerOff)(),console.log(e.message)}})),q.defineCustomElement(),Q.innerHTML="";const j=document.getElementById("film-cards");!async function(){try{const{genres:e}=await c.getMovieGenres();!function(e){try{localStorage.setItem(u,JSON.stringify(e))}catch{return!1}}(e)}catch(e){console.log(e.message)}}(),async function(){try{(0,p.spinerOn)();const t=new l,n=await t.getPopularFilms();setTimeout(p.spinerOff,500),e=n.results,j.innerHTML=h(A(e))}catch(e){console.log(e.message)}var e}(),a("bvnla"),a("dN6xn"),a("gyo0n"),a("cDXQO");f=a("gyo0n");var $=a("dN6xn"),I=a("bvnla");const H=document.querySelector(".backdrop"),D="js-watched-modal",R="js-queue-modal",B="reviewed",K="in your turn";function U(e){const t={btn_watched:document.querySelector(".btn_watched"),btn_queue:document.querySelector(".btn_queue")};$.toWatched.getWatchedOne(e)&&$.toWatched.getWatchedOne(e).length>0&&F(t.btn_watched),I.toQueue.getQueueOne(e)&&I.toQueue.getQueueOne(e).length>0&&G(t.btn_queue)}function F(e){e.classList.add(D),e.textContent=B}function G(e){e.classList.add(R),e.textContent=K}function z(e){e.classList.remove(D),e.textContent="add to watched"}function J(e){e.classList.remove(R),e.textContent="add to queue"}H.addEventListener("click",(function(e){const t=+e.target.dataset.id,n={btn_watched:document.querySelector(".btn_watched"),btn_queue:document.querySelector(".btn_queue")};if(e.target.classList.contains("btn_watched"))if(!$.toWatched.getWatchedOne(t)||$.toWatched.getWatchedOne(t).length<1){$.toWatched.setWatchedOne(...(0,f.getLocalOne)(t)),F(n.btn_watched);try{void 0!==I.toQueue.getQueueAll()&&I.toQueue.getQueueOne(t).length>0&&(I.toQueue.removeQueueOneEl(t),J(n.btn_queue))}finally{return}}else $.toWatched.removeWatchedOneEl(t),z(n.btn_watched);if(e.target.classList.contains("btn_queue"))if(!I.toQueue.getQueueOne(t)||I.toQueue.getQueueOne(t).length<1){I.toQueue.setQueueOne(...(0,f.getLocalOne)(t)),G(n.btn_queue);try{void 0!==$.toWatched.getWatchedAll&&$.toWatched.getWatchedOne(t).length>0&&($.toWatched.removeWatchedOneEl(t),z(n.btn_watched))}finally{return}}else I.toQueue.removeQueueOneEl(t),J(n.btn_queue)})),a("3vKGz");var X=a("3vKGz"),V=(f=a("gyo0n"),a("1cIrP"));function Y(){X.refs.backdrop.classList.add("is-hidden"),te()}function Z(e){e.target.classList.contains("modal")&&X.refs.backdrop.classList.add("is-hidden"),te()}function ee(e){"Escape"===e.key&&(X.refs.backdrop.classList.add("is-hidden"),te())}function te(){X.refs.backdrop.classList.contains("is-hidden")&&(X.refs.modalClose.removeEventListener("click",Y),X.refs.backdrop.removeEventListener("click",Z),document.removeEventListener("keydown",ee),X.refs.body.classList.remove("disable-scroll"))}document.querySelector(".container").addEventListener("click",(function(e){if(e.preventDefault(),!e.target.classList.contains("card__img"))return;const t=+e.target.dataset.id;X.refs.body.classList.add("disable-scroll"),X.refs.modalClose.addEventListener("click",Y),X.refs.backdrop.addEventListener("click",Z),document.addEventListener("keydown",ee),X.refs.backdrop.classList.remove("is-hidden"),X.refs.modalMovie.innerHTML=(0,V.default)((0,f.getLocalOne)(t)),U(t)})),a("diaKp");const ne=document.querySelector('[data-index="1"]'),oe=document.querySelector('[data-index="2"]'),ae=document.querySelector('[data-index="3"]'),re=document.querySelector('[data-index="4"]'),ie=document.querySelector('[data-index="5"]'),se=document.querySelector(".first-button"),le=document.querySelector(".last-button"),ce=document.querySelector(".pagination-container"),ue=document.querySelector(".arrow-right"),de=document.querySelector(".arrow-left"),he=document.querySelector("#previous"),pe=document.querySelector("#after");ce.addEventListener("click",(function(e){"BUTTON"===e.target.tagName&&(Number(e.target.textContent)&&(fe=Number(e.target.textContent)),he.hidden=!0,pe.hidden=!0,e.target.classList.contains("pagination-button")&&(me.forEach((e=>e.classList.remove("pagination--current"))),e.target.classList.add("pagination--current")),e.target.classList.contains("arrow-right")&&fe<1e3&&(me.forEach((e=>e.classList.remove("pagination--current"))),ne.classList.add("pagination--current"),ne.textContent=Number(ne.textContent)+5,oe.textContent=Number(oe.textContent)+5,ae.textContent=Number(ae.textContent)+5,re.textContent=Number(re.textContent)+5,ie.textContent=Number(ie.textContent)+5,fe=ne.textContent),e.target.classList.contains("arrow-left")&&fe>=5&&(me.forEach((e=>e.classList.remove("pagination--current"))),ne.textContent=Number(ne.textContent)-5,oe.textContent=Number(oe.textContent)-5,ae.textContent=Number(ae.textContent)-5,re.textContent=Number(re.textContent)-5,ie.textContent=Number(ie.textContent)-5,ie.classList.add("pagination--current"),fe=ie.textContent),e.target.classList.contains("first-button")&&(me.forEach((e=>e.classList.remove("pagination--current"))),ne.textContent=1,oe.textContent=2,ae.textContent=3,re.textContent=4,ie.textContent=5,ne.classList.add("pagination--current"),fe=ne.textContent,de.hidden=!0,he.hidden=!0,se.hidden=!0),e.target.classList.contains("last-button")&&(me.forEach((e=>e.classList.remove("pagination--current"))),ne.textContent=Number(le.textContent)-4,oe.textContent=Number(le.textContent)-3,ae.textContent=Number(le.textContent)-2,re.textContent=Number(le.textContent)-1,ie.textContent=le.textContent,ie.classList.add("pagination--current"),fe=ie.textContent,ue.hidden=!0,pe.hidden=!0,le.hidden=!0),Number(fe)>5?(de.hidden=!1,he.hidden=!1,se.hidden=!1):(de.hidden=!0,he.hidden=!0,se.hidden=!0),Number(fe)<996&&(ue.hidden=!1,pe.hidden=!1,le.hidden=!1),gallery.innerHTML="",window.scrollTo({top:0,behavior:"smooth"}),""!==inputRef.value?movieSearcher(inputRef.value,fe):startPage())}));let fe=1,me=document.querySelectorAll(".pagination-button");he.hidden=!0,de.hidden=!0,se.hidden=!0}();
//# sourceMappingURL=index.74cc56e2.js.map
